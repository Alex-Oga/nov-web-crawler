<style>
:root {
  --bg: #0f1115;
  --panel: #151922;
  --text: #e6e6e6;
  --muted: #9aa0a6;
  --accent: #7aa2ff;
  --border: #24293a;
  --highlight: #1f2537;
  --radius: 12px;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font-family: Georgia, serif;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Header */
header {
  background: var(--panel);
  padding: 1rem 2rem;
  border-bottom: 1px solid var(--border);
}

.logo { font-size: 1.3rem; font-weight: bold; }
.logo a { color: inherit; text-decoration: none; }

/* Center Card */
main { flex: 1; display: grid; place-items: center; padding: 2rem; }

.card {
  background: var(--panel);
  border: 1px solid var(--border);
  padding: 2rem;
  width: 100%;
  max-width: 720px;
  border-radius: var(--radius);
}

.card h1 { text-align: center; margin-bottom: 1.2rem; }

/* Form */
label { display: block; margin-bottom: 0.3rem; color: var(--muted); }

input, textarea, .form-input {
  width: 100%;
  padding: 0.7rem;
  border-radius: var(--radius);
  border: 1px solid var(--border);
  background: var(--highlight);
  color: var(--text);
  margin-bottom: 1.2rem;
  font: inherit;
}

input:focus, textarea:focus, .form-input:focus { outline: none; border-color: var(--accent); }

button, .btn {
  width: 100%;
  padding: 0.8rem;
  background: var(--accent);
  color: #000;
  border: none;
  border-radius: var(--radius);
  font-size: 1rem;
  cursor: pointer;
}

button:hover, .btn:hover { opacity: 0.9; }

.helper { text-align: center; margin-top: 1rem; color: var(--muted); }
.helper a { color: var(--accent); text-decoration: none; }
.helper a:hover { text-decoration: underline; }

.flash { margin-bottom: 1rem; padding: 0.6rem 0.8rem; border-radius: 8px; }
.flash.alert { background: #3a1e1e; color: #ffb3b3; }
.flash.notice { background: #163a17; color: #bff0b3; }
</style>

<main>
  <div class="card">
    <h1>Edit Novel</h1>

    <% if flash[:alert] %>
      <div class="flash alert"><%= flash[:alert] %></div>
    <% end %>
    <% if flash[:notice] %>
      <div class="flash notice"><%= flash[:notice] %></div>
    <% end %>

    <% if @novel && @novel.errors.any? %>
      <div class="flash alert" role="alert" style="margin-bottom:12px;">
        <strong>There were problems updating this novel:</strong>
        <ul>
          <% @novel.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_with model: [@website, @novel], local: true do |form| %>
      <label for="novel_name">Name</label>
      <%= form.text_field :name, id: "novel_name", class: "form-input", required: true, placeholder: "Novel title" %>

      <label for="novel_link">Source Link (optional)</label>
      <%= form.url_field :link, id: "novel_link", class: "form-input", placeholder: "https://..." %>

      <div style="display:flex; gap:8px;">
        <%= form.submit "Update Novel", class: "btn", style: "flex:1" %>
      </div>
    <% end %>

    <div style="margin-top:12px; display:flex; gap:12px; justify-content:center; align-items:center;">
      <%= link_to "Back To Novel", @novel, class: "helper" %>
      <%= link_to "Back To Novels", @novel.website, class: "helper" %>
    </div>
  </div>
</main>